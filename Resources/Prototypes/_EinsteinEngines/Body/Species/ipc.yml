## Mob

- type: entity
  parent: BaseSpeciesAppearance
  id: AppearanceIPC
  name: IPC appearance
  components:
  - type: EntityTableContainerFill
    containers:
      body_organs: !type:AllSelector
        children:
        - id: OrganIPCTorso
        - id: OrganIPCHead
        - id: OrganIPCArmLeft
        - id: OrganIPCArmRight
        - id: OrganIPCHandRight
        - id: OrganIPCHandLeft
        - id: OrganIPCLegLeft
        - id: OrganIPCLegRight
        - id: OrganIPCFootLeft
        - id: OrganIPCFootRight
        - id: OrganIPCEyes
        - id: OrganIPCTongue
        - id: OrganIPCEars
        - id: PositronicBrain
        - id: OrganIPCPump
  - type: HumanoidAppearance
    species: IPC

- type: entity
  parent:
  - AppearanceIPC
  - MobFlammable
  - BaseSpeciesMob
  id: MobIPC
  components:
  - type: LanguageKnowledge
    speaks:
    - TauCetiBasic
    - RobotTalk
    understands:
    - TauCetiBasic
    - RobotTalk
  - type: HarpySinger
    ShutUpDamageThreshold: 5 # Punch does 5 damage
  - type: Instrument
    allowPercussion: true
    allowProgramChange: true
    program: 52
  - type: SwappableInstrument
    instrumentList:
      "Daw": { 0: 0 }
  - type: UserInterface
    interfaces:
      enum.HumanoidMarkingModifierKey.Key:
        type: HumanoidMarkingModifierBoundUserInterface
      enum.StrippingUiKey.Key:
        type: StrippableBoundUserInterface
      enum.StoreUiKey.Key: # Changeling IPC real
        type: StoreBoundUserInterface
  - type: Battery
    maxCharge: 1080
    startingCharge: 1080
  - type: EncryptionHolderRequiresLock
  - type: Lock
    locked: true
    lockOnClick: false
    unlockOnClick: false
    lockTime: 5
    unlockTime: 5
  - type: InteractionPopup
    successChance: 1
    interactSuccessString: hugging-success-generic
    interactSuccessSound: /Audio/Effects/thudswoosh.ogg
    messagePerceivedByOthers: hugging-success-generic-others
  - type: NpcFactionMember
    factions:
    - NanoTrasen
  - type: StandingState
  - type: Damageable
    damageContainer: SiliconRadiation
    damageModifierSet: IPC
  - type: MobState
    allowedStates:
    - Alive
    - Dead
  - type: MobThresholds
    thresholds:
      0: Alive
      100: Dead
    stateAlertDict:
      Alive: BorgHealth
      Dead: BorgDead
  - type: TypingIndicator
    proto: robot
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTypeTrigger
        damageType: Blunt
        damage: 400
      behaviors:
      - !type:GibBehavior
  - type: SlowOnDamage
    speedModifierThresholds:
      60: 0.7
      80: 0.5
  - type: SiliconDownOnDead
  - type: Inventory
    templateId: ipc
  - type: GuideHelp
    guides:
    - IPC
  - type: Silicon
    entityType: enum.SiliconType.Player
    batteryPowered: true
    drainPerSecond: 1.5
    chargeThresholdMid: 0.80
    chargeThresholdLow: 0.35
    chargeThresholdCritical: 0.10
    speedModifierThresholds:
      4: 1
      3: 1
      2: 0.80
      1: 0.45
      0: 0.10
  - type: BatteryDrinker
    blacklist:
      tags:
      - IPCDrinkBlacklist
  - type: EncryptionKeyHolder
    keySlots: 4
    examineWhileLocked: false
    keysExtractionMethod: Cutting
    keysUnlocked: false
  - type: ActiveRadio
  - type: IntrinsicRadioReceiver
  - type: IntrinsicRadioTransmitter
  - type: DeadStartupButton
    sound:
      path: /Audio/_EinsteinEngines/Effects/Silicon/startup.ogg
  - type: EmitBuzzWhileDamaged
  - type: CanHostGuardian
  - type: Repairable
    fuelCost: 5
    doAfterDelay: 3
    selfRepairPenalty: 2.0
    damage:
      types:
        Blunt: -15
        Piercing: -15
        Slash: -15
  - type: DamagedSiliconAccent
  - type: Uncloneable # it a fucking robot
  - type: ZombieImmune
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 185
        restitution: 0.0
        mask:
        - MobMask
        layer:
        - MobLayer
  - type: Silicon
    entityType: enum.SiliconType.Player
    batteryPowered: false # Needs to also have a battery!
    chargeThresholdMid: 0.60
    chargeThresholdLow: 0.30
    chargeThresholdCritical: 0
    speedModifierThresholds:
      4: 1
      3: 1
      2: 0.80
      1: 0.45
      0: 0.00
  - type: Temperature
    currentTemperature: 310.15 # 310K is the standard operating temperature of a home circuit breaker
    specificHeat: 42
    atmosTemperatureTransferEfficiency: 0.05
  - type: TemperatureDamage
    heatDamageThreshold: 450 # Wanted to do 363.15 for le realism, but reptiles have 400K limit which is ????
    coldDamageThreshold: 260
    coldDamage:
      types:
        Cold: 0.1 #per second, scales with temperature & other constants
    heatDamage:
      types:
        Heat: 2 #per second, scales with temperature & other constants
  - type: KillOnOverheat
  - type: Deathgasp
    prototype: SiliconDeathgasp
    needsCritical: false
  - type: MobState
    allowedStates:
    - Alive
    - Dead
  - type: MobThresholds
    thresholds:
      0: Alive
      165: Dead
  - type: Tag
    tags:
    - SiliconMob
    - SiliconEmotes
    - CanPilot
    - FootstepSound
    - DoorBumpOpener
    - AnomalyHost
    - IPCDrinkBlacklist # Don't let self antagging IPCs steal power from other ipcs.

## Base

- type: entity
  abstract: true
  parent: OrganBase
  id: OrganIPC
  suffix: IPC
  components:
  - type: Inorganic
  - type: Damageable
    damageContainer: SiliconRadiation
    damageModifierSet: IPC
    bleedingOverlay: null

- type: entity
  abstract: true
  parent: OrganIPC
  id: OrganIPCInternal
  components:
  - type: Sprite
    sprite: _EinsteinEngines/Mobs/Species/IPC/organs.rsi
  - type: SolutionContainerManager
    solutions:
      organ:
        reagents:
        - ReagentId: Oil
          Quantity: 10

- type: entity
  abstract: true
  parent: OrganIPC
  id: OrganIPCExternal
  components:
  - type: Sprite
    sprite: _EinsteinEngines/Mobs/Species/IPC/parts.rsi
  - type: WoundableVisuals
    damageOverlayColors:
      Brute: "#DD8822"
  - type: Boneless
    bonePenalty: 1

## Parts

- type: entity
  parent: [ OrganBaseTorso, OrganIPCExternal ]
  id: OrganIPCTorso
  components:
  - type: BodyPart
    slots:
    # Parts
    - Head
    - ArmLeft
    - ArmRight
    - LegLeft
    - LegRight
    # Organs
    - IPCBrain
    - IPCPump

- type: entity
  parent: [ OrganBaseHead, OrganIPCExternal ]
  id: OrganIPCHead
  components:
  - type: BodyPart
    slots:
    # no posibrain, stored in the torso
    - Eyes
    - Tongue
    - Ears

- type: entity
  parent: [ OrganBaseArmLeft, OrganIPCExternal ]
  id: OrganIPCArmLeft

- type: entity
  parent: [ OrganBaseArmRight, OrganIPCExternal ]
  id: OrganIPCArmRight

- type: entity
  parent: [ OrganBaseHandLeft, OrganIPCExternal ]
  id: OrganIPCHandLeft

- type: entity
  parent: [ OrganBaseHandRight, OrganIPCExternal ]
  id: OrganIPCHandRight

- type: entity
  parent: [ OrganBaseLegLeft, OrganIPCExternal ]
  id: OrganIPCLegLeft

- type: entity
  parent: [ OrganBaseLegRight, OrganIPCExternal ]
  id: OrganIPCLegRight

- type: entity
  parent: [ OrganBaseFootLeft, OrganIPCExternal ]
  id: OrganIPCFootLeft

- type: entity
  parent: [ OrganBaseFootRight, OrganIPCExternal ]
  id: OrganIPCFootRight

## Organs

- type: entity
  parent: [ OrganBaseEyes, OrganIPCInternal ]
  id: OrganIPCEyes
  name: robotic eyes
  description: "01001001 00100000 01110011 01100101 01100101 00100000 01111001 01101111 01110101 00100001"

- type: entity
  parent: [ OrganBaseTongue, OrganIPCInternal ]
  id: OrganIPCTongue
  name: vocal modulator
  description: A vocal modulator, used to produce speech.

- type: entity
  parent: [ OrganBaseEars, OrganIPCInternal ]
  id: OrganIPCEars
  name: sonic receptors

- type: entity
  parent: [ OrganBaseHeart, OrganIPCInternal ]
  id: OrganIPCPump
  name: micro pump
  description: A micro pump, used to circulate coolant.
  components:
  - type: Organ
    category: IPCPump
